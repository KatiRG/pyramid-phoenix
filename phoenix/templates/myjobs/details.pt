<metal:block use-macro="main_template">

  <div metal:fill-slot="javascript">
    <script src="${request.static_url('phoenix:static/scripts/myjobs_details.js')}"></script>
  </div>
        
  <div metal:fill-slot="content">

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3>Job</h3>
      </div>
      <div class="panel-body">
        <div id="buildDetails">
          <div class="col-xs-6 col-md-3">
            <dl>
              <dt>Status</dt>
              <dd class="success">
                success
              </dd>
              <dt>Duration</dt>
              <dd  >
                02:13
              </dd>
              <dt>Finished</dt>
              <dd>4 hours ago</dd>
            </dl>
          </div>
          <div class="col-xs-6 col-md-3">
            <dl>
              <dt>Queue</dt>
              <dd>build/binstar/public</dd>
              <dt>Platform</dt>
              <dd>linux-64</dd>
              <dt>Engine</dt>
              <dd>python=2</dd>
              <dt>Environment</dt>
              <dd>None</dd>
            </dl>
          </div>
        </div>
      </div>
    </div>

    <ul class="nav nav-tabs">
      <li class="${'active' if active=='outputs' else ''}">
        <a href="${request.route_path('myjobs_details', jobid=jobid, tab='outputs')}">Outputs</a>
      </li>
      <li class="${'active' if active=='inputs' else ''}">
        <a href="${request.route_path('myjobs_details', jobid=jobid, tab='inputs')}">Inputs</a>
      </li>
      <li class="${'active' if active=='resources' else ''}">
        <a href="${request.route_path('myjobs_details', jobid=jobid, tab='resources')}">Resources</a>
      </li>
      <li class="${'active' if active=='workflow' else ''}">
        <a href="${request.route_path('myjobs_details', jobid=jobid, tab='workflow')}">Workflow</a>
      </li>
      <li class="${'active' if active=='log' else ''}">
        <a href="${request.route_path('myjobs_details', jobid=jobid, tab='log')}">Log</a>
      </li>
    </ul>

    <!-- row columns -->
    <div class="row-fluid offset1">
      ${panel('headings')}
    </div>

    <div class="panel panel-default">
      <div class="panel-body">
        <table class="table table-striped">
          <tal:rows replace="structure grid" />
        </table>
      </div>
    </div>

    <!-- Add form for publishing to csw -->
    <div id="publish-form" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h4 class="modal-title" id="publish-form-label">Publish to Catalog Service</h4>
          </div>
          <div class="modal-body">
            <tal:form replace="structure publish_form"/>
          </div>
        </div>
      </div>
    </div>

    <!-- Add form for upload to swift cloud -->
    <div id="upload-form" class="modal fade">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h4 class="modal-title" id="upload-form-label">Upload to Swift Cloud</h4>
          </div>
          <div class="modal-body">
            <tal:form replace="structure upload_form" />
          </div>
        </div>
      </div>
    </div>

  </div>
   
</metal:block>
