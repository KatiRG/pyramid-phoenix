<div tal:define="css_class css_class|field.widget.css_class;
                 oid oid|field.oid;
                 url url|field.widget.url;"
     tal:omit-tag="">

  <div> 
    ${field.start_sequence()}
    <ul id="${oid}-choices" style="list-style-type: none;"></ul> 
    ${field.end_sequence()}
  </div> 

  <script type="text/javascript">
    deform.addCallback(
      '${oid}',
      function (oid) {
        $.EsgFileSearch( {
           oid: oid,
           url: '${url}',
           constraints: '${facets}',
           query: '${query}',
           distrib: '${distrib}',
           latest: '${latest}',
           replica: '${replica}',
           });
    });
  </script>
</div>

