<span tal:define="name name|field.name;
                  size size|field.widget.size;
                  css_class css_class|field.widget.css_class;
                  oid oid|field.oid;
                  mask mask|field.widget.mask;
                  mask_placeholder mask_placeholder|field.widget.mask_placeholder;
                  style style|field.widget.style|None;
"
      tal:omit-tag="">

  <h4>Currents Selection</h4>

  <input type="text" name="Current Selection" class="tm-selection" 
         id="${oid}"/>
  <input type="hidden" value="${cstruct}" name="hidden-Selection">
  <p/>

  <h4>Search Categories</h4>
  
  <input type="text" name="Search Categories" class="tm-facets"
	 id="facets"/>
  <p/>
 
  <h4>Categorie: Institute</h4>
    
  <input type="text" name="Categorie: xxx" class="tm-facet"
	 id="facet"/>
  <p/>
  
  <script type="text/javascript">
    $(document).ready(function() { 
       jQuery(".tm-selection").tagsManager({
         prefilled: ["variable:hus", "experiment:decadal1960"],
         CapitalizeFirstLetter: true,
         preventSubmitOnEnter: true,
         delimiters: [9, 13, 44],
         maxTags: 2,
         tagClass: 'tm-tag tm-tag-success',
         hiddenTagListName: 'hidden-Selection',
         hiddenTagListId: null,
         
       });
       jQuery(".tm-facets").tagsManager({
         prefilled: ["experiment", "variable"],
         CapitalizeFirstLetter: true,
         preventSubmitOnEnter: true,
         delimiters: [9, 13, 44],
         maxTags: 2,
         tagClass: 'tm-tag tm-tag-info',
         tagCloseIcon: '+',
       });
       jQuery(".tm-facet").tagsManager({
         prefilled: ["MPI-M", "NCC", "MIROC", "BCC"],
         preventSubmitOnEnter: true,
         delimiters: [9, 13, 44],
         maxTags: 4,
         tagClass: 'tm-tag tm-tag-warning tm-tag-mini',
         tagCloseIcon: '+',
       });

    })

    deform.addCallback(
      '${oid}',
      function (oid) {
        // do something
    });
  </script>
</span>


