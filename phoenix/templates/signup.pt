<metal:block use-macro="main_template">

  <div metal:fill-slot="content">
          
          <div class="well">
              <legend>Sign Up</legend>
              <form class="form-horizontal" action="${url}" method="post">
                    <fieldset>
    
                        <div class="control-group">
                            <label class="control-label">Name</label>
                            <div class="controls">
                                <input type="text" style="width: 140px" placeholder="First" id="firstname" name="firstname" value="${firstname}">
                                <input type="text" style="width: 140px" placeholder="Last" id="lastname" name="lastname" value="${lastname}">
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Username</label>
                            <div class="controls">
                                <div class="input-prepend">
                                    <span class="add-on"><i class="icon-user"></i></span>
                                    <input type="text" class="input-xlarge" id="username" name="username" value="${username}">
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Email</label>
                            <div class="controls">
                                <div class="input-prepend">
                                    <span class="add-on"><i class="icon-envelope"></i></span>
                                    <input type="text" class="input-xlarge" id="email" name="email" value="${email}"/>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Password</label>
                            <div class="controls">
                                <div class="input-prepend">
                                    <span class="add-on"><i class="icon-lock"></i></span>
                                    <input type="password" class="input-xlarge" id="password" name="password" value="${password}"/>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label">Confirm Password</label>
                            <div class="controls">
                                <div class="input-prepend">
                                    <span class="add-on"><i class="icon-lock"></i></span>
                                    <input type="password" class="input-xlarge" id="confirm_password" name="confirm_password" value="${confirm_password}"/>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label class="control-label"></label>
                            <div class="controls">
                                <input type="submit" class="btn" name="form.submitted" value="Sign Up &raquo;"/>
                            </div>
                        </div>
    
                    </fieldset>
              </form>
          </div>
          
        <script type="text/javascript" src="${request.application_url}/static/js/jquery.validate.min.js"></script>
        <script type="text/javascript">
            $('form').each(function()
            {
                // Validation
                 $(this).validate(
                 {
                    rules:{
                        username:  "required",
                        firstname: "required",
                        lastname:  "required",
                        email: {required: true, email: true},
                        password: {required: true, minlength: 8},
                        confirm_password: {required: true, equalTo: "#password"}
                     },
                    
                    messages:{
                        username:  "Enter you user name",
                        firstname: "Enter your first name",
                        lastname:  "Enter your last name",
                        email:{
                            required: "Enter your email address",
                            email: "Enter a valid email address"
                        },
                        password:{
                            required:  "Enter your password",
                            minlength: "Minimum password length is 8"
                        },
                        confirm_password:{
                            required: "Confirm your password",
                            equalTo:  "Passwords do not match"
                        }
                     },
                    
                    errorClass: "help-inline",
                    highlight: function(element, errorClass)
                    {
                        $(element).parents('.control-group').addClass('error');
                    },
                    unhighlight: function(element, errorClass)
                    {
                        $(element).parents('.control-group').removeClass('error');
                    }
                });
            });
        </script>

  </div>

</metal:block>
